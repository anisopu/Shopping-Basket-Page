<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Basket</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@400&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <header class="bg-light p-3 shadow-sm">
        <div class="container d-flex justify-content-between align-items-center">
            <h1 class="brand-name">Shopping Basket Page</h1>
        </div>
    </header>

    <main class="container my-4">
        <div class="row">

            <!-- Cart Products -->
            <section class="col-md-8">
                <h2 class="section-title">Check-Out</h2>

                <div class="basket-item card mb-3 p-3 d-flex flex-row align-items-center" data-price="15">
                    <img src="media/carrots.jpg" alt="Product" class="product-image">
                    <div class="product-details">
                        <h5 class="product-name">Carrots</h5>
                        <p class="product-price">Price per kg: $15</p>
                        <p>Quantity: <span class="quantity">2</span> kg</p>
                        <p class="total-price">Total: $<span class="item-total">0</span></p>
                    </div>
                </div>

                <div class="basket-item card mb-3 p-3 d-flex flex-row align-items-center" data-price="15">
                    <img src="media/onion.jpg" alt="Product" class="product-image">
                    <div class="product-details">
                        <h5 class="product-name">Onion</h5>
                        <p class="product-price">Price per kg: $15</p>
                        <p>Quantity: <span class="quantity">2</span> kg</p>
                        <p class="total-price">Total: $<span class="item-total">0</span></p>
                    </div>
                </div>

                <div class="basket-item card mb-3 p-3 d-flex flex-row align-items-center" data-price="15">
                    <img src="media/red chili.jpg" alt="Product" class="product-image">
                    <div class="product-details">
                        <h5 class="product-name">Red Chili</h5>
                        <p class="product-price">Price per kg: $15</p>
                        <p>Quantity: <span class="quantity">2</span> kg</p>
                        <p class="total-price">Total: $<span class="item-total">0</span></p>
                    </div>
                </div>
            </section>

            <!-- Total Summary -->
            <aside class="col-md-4 summary-box">
                <h3 class="summary-title">Order Summary</h3>
                <p class="summary-item">Subtotal: $<span id="subtotal">0</span></p>
                <p class="summary-item">Shipping: $<span id="shipping">5</span></p>
                <p class="summary-item">Tax (10%): $<span id="tax">0</span></p>
                <h4 class="total-amount">Total: $<span id="total">0</span></h4>
                <button class="btn btn-success w-100">Continue to payment</button>
            </aside>
        </div>
    </main>

    <script>
        function updateSummary() {
            let subtotal = 0;
            document.querySelectorAll('.basket-item').forEach(item => {
                let pricePerKg = parseFloat(item.getAttribute('data-price'));
                let quantity = parseInt(item.querySelector('.quantity').textContent);
                let itemTotal = pricePerKg * quantity;

                item.querySelector('.item-total').textContent = itemTotal.toFixed(2);
                subtotal += itemTotal;
            });

            let shipping = 5;
            let tax = subtotal * 0.10;
            let total = subtotal + shipping + tax;

            document.getElementById('subtotal').textContent = subtotal.toFixed(2);
            document.getElementById('tax').textContent = tax.toFixed(2);
            document.getElementById('total').textContent = total.toFixed(2);
        }

        window.onload = updateSummary;
    </script>
</body>

</html>